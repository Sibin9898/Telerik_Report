@page "/"

<PageTitle>Report Viewer</PageTitle>

<ReportViewer ServiceUrl="http://localhost:59655/api/reports"
              @bind-ReportSource="@ReportSource"
              @bind-ScaleMode="@ScaleMode"
              @bind-ViewMode="@ViewMode"
              @bind-ParametersAreaVisible="@ParametersAreaVisible"
              @bind-DocumentMapVisible="@DocumentMapVisible"
              @bind-Scale="@Scale"
              PageMode="@PageMode.ContinuousScroll"
              PrintMode="@PrintMode.AutoSelect"
              KeepClientAlive="true"
              EnableSendEmail="true"
              ServiceType="@ReportViewerServiceType.REST"
              Height="900px"
              Width="100%">
</ReportViewer>
	<ItemGroup>
	  <None Update="Reports\Itemmaster.trdp">
	    <CopyToOutputDirectory>Always</CopyToOutputDirectory>
	  </None>
	</ItemGroup>

@code {
    public ScaleMode ScaleMode { get; set; } = ScaleMode.Specific;
    public ViewMode ViewMode { get; set; } = ViewMode.Interactive;
    public bool ParametersAreaVisible { get; set; }
    public bool DocumentMapVisible { get; set; }
    public double Scale { get; set; } = 1.0;

    // public ReportSourceOptions ReportSource { get; set; } = new ReportSourceOptions("Itemmaster.trdp", new Dictionary<string, object>
    //         {
    //                 {"AuthToken", "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiVXNlcjEyMyIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6IkFkbWluIiwiZXhwIjoxNzQyMjc2NTEwLCJpc3MiOiJBUElodWIiLCJhdWQiOiJFLUxlYXJuaW5nIn0.U3W_1thrHbh4BxwlRPm3X1EbfeKJU4DdIElHaXa81RY" },
    //                 { "C", 25 },    
    //                 { "S", 45 },    
    //                 { "V", 7 } 
    //         });

    public ReportSourceOptions ReportSource { get; set; } = new ReportSourceOptions("Itemmaster - Copy.trdp", new Dictionary<string, object>
        {
            { "token","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiVXNlcjEyMyIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6IkFkbWluIiwiZXhwIjoxNzUyNzM2MDk1LCJpc3MiOiJBUElodWIiLCJhdWQiOiJFLUxlYXJuaW5nIn0.kjyYFi8TRa96lXJfGN7aVP-reIPTMS1LxLfIjaB87cI" },
            { "S", 522 },  // Corrected from 45 to 522 based on your screenshot
            { "V", 2 }      // Corrected from 7 to 2 based on your screenshot
        });

}

}
